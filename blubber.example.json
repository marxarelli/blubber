{
  "base": "debian:jessie-slim",
  "apt": { "packages": ["libjpeg", "libyaml"] },
  "npm": { "use": "package.json" },
  "variants": {
    "development": {
      "apt": { "packages": ["libjpeg-dev", "libyaml-dev"] }
    },
    "test": {
      "includes": ["development"],
      "apt": { "packages": ["chromium"] },
      "entrypoint": ["npm", "test"]
    },
    "production": {
      "artifacts": [{ "from": "test", "source": ".", "destination": "." }],
      "entrypoint": ["npm", "start"]
    }
  }
}
