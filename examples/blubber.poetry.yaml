---
version: v4
base: docker-registry.wikimedia.org/wikimedia-buster:latest
python:
  version: python2.7

# Examples of using Poetry for Python library management
variants:
  build-poetry:
    python:
      poetry:
        version: ==1.0.10
      requirements: [pyproject.toml, poetry.lock]

  test-poetry:
    includes: [build-poetry]
    python:
      poetry:
        devel: true
    copies: [local]

  production-poetry:
    includes: [build-poetry]
    copies: [local]
